:root{
  --bg:#0b0f14;--paper:#121822;--ink:#e6e8ec;--muted:#9aa4b2;
  --hi:#8ad1ff;--brand:#ffde59;--accent:#5ee1a2;--danger:#ff6b6b;
  --card:#161b22;--border:#232a34;
  --radius:16px;
  --fs:17px; /* larger, easier to read */
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font:var(--fs)/1.6 system-ui,Segoe UI,Roboto,Arial}
a{color:var(--hi);text-decoration:none}
a:hover{text-decoration:underline}
img{max-width:100%;display:block}

/* wallpaper overlay */
.wallpaper{position:fixed;inset:0;background-size:cover;background-position:center;opacity:.25;filter:saturate(1.1) blur(0.5px);z-index:-1}

/* header + nav */
header{padding:14px 18px;border-bottom:1px solid var(--border);background:rgba(18,24,34,.7);backdrop-filter:blur(6px);position:sticky;top:0;z-index:5}
.logo{font-weight:700;letter-spacing:.3px}
.badge{background:#1c2431;border:1px solid var(--border);border-radius:999px;padding:4px 10px;margin-left:10px;font-size:.9em;color:var(--muted)}
.row{display:flex;align-items:center;gap:10px}
.row.space{justify-content:space-between}
.row.wrap{flex-wrap:wrap}
.gap{gap:10px}.gap-s{gap:6px}
nav{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
nav a{padding:6px 10px;border-radius:10px;border:1px solid transparent}
nav a.active,nav a:hover{background:#17202b;border-color:var(--border)}

/* layout */
main{max-width:1100px;margin:24px auto;padding:0 18px}
.paper{background:var(--paper);border:1px solid var(--border);border-radius:var(--radius);padding:18px}
.grid{display:grid;gap:16px}
.grid.cards{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius)}
.card>.card-body{padding:14px}
.callout{padding:16px}
.section-title{margin:16px 0 6px 4px;font-size:1.05rem;color:var(--muted)}

/* buttons & inputs */
.btn{display:inline-flex;align-items:center;gap:8px;background:#18212c;border:1px solid var(--border);color:var(--ink);padding:8px 12px;border-radius:12px;cursor:pointer;text-decoration:none}
.btn.small{padding:5px 9px;border-radius:10px;font-size:.9em}
.btn.pill{border-radius:999px}
.btn.secondary{background:#111720;color:var(--muted)}
.input{background:#0f1520;color:var(--ink);border:1px solid var(--border);border-radius:10px;padding:8px 10px}
label{display:inline-block;margin-right:6px}

/* tags */
.tag,.chip{display:inline-block;border:1px solid var(--border);border-radius:999px;padding:2px 8px;font-size:.8em;color:var(--muted)}
.chip{background:#111720}

/* toast */
.toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);padding:10px 14px;background:#111720;border:1px solid var(--border);border-radius:10px;opacity:0;pointer-events:none;transition:.2s}
.toast.show{opacity:1}

/* modal */
.modalBack{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;z-index:50}
.modalBack.show{display:flex}
.modal{background:var(--paper);border:1px solid var(--border);border-radius:16px;max-width:900px;width:min(96vw,900px);max-height:90vh;overflow:auto}
.modal header{position:sticky;top:0;border-bottom:1px solid var(--border)}
.modal img{width:100%;height:auto;display:block}
.previewMeta{display:flex;align-items:center;gap:8px;padding:12px;border-top:1px solid var(--border)}

/* asset grid */
.asset-grid,.#assetGrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
.asset{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px}
.asset img{border-radius:10px;cursor:pointer}

/* portal ring */
.portal-ring{position:relative;height:420px;margin:20px auto}
.portal-ring .center{position:absolute;inset:0;background:radial-gradient(ellipse at center, rgba(255,222,89,.18), transparent 65%);border-radius:50%}
.portal{position:absolute;--r:150px;--ang:0;left:50%;top:50%;transform:translate(-50%,-50%) rotate(var(--ang)) translate(var(--r)) rotate(calc(-1*var(--ang)));text-align:center}
.portal a{display:block;width:96px;height:96px;border-radius:50%;border:2px solid rgba(255,255,255,.15);background:#0f1520aa;backdrop-filter:blur(4px);overflow:hidden}
.portal img{width:100%;height:100%;object-fit:cover}
.portal .label{margin-top:6px;font-size:.95em;color:var(--muted)}
/* tooltips */
[data-tip]{position:relative}
[data-tip]::after{content:attr(data-tip);position:absolute;left:50%;bottom:115%;transform:translateX(-50%);white-space:nowrap;background:#0e141c;color:#cfe7ff;border:1px solid var(--border);padding:4px 8px;border-radius:8px;font-size:.85em;opacity:0;pointer-events:none;transition:.15s}
[data-tip]:hover::after{opacity:1}

/* drawer */
.drawer{position:fixed;right:18px;top:90px;width:320px;max-width:85vw;background:var(--paper);border:1px solid var(--border);border-radius:16px;padding:14px;transform:translateX(calc(100% + 24px));transition:.22s;z-index:6}
.drawer.open{transform:none}
.drawer h4{margin:0 0 8px}
.drawer ol{padding-left:18px}
.drawer .muted{color:var(--muted)}
#drawerToggle{position:fixed;right:18px;top:18px;z-index:7}

/* focus mode */
body.kid .paper, body.kid .card{border-color:#1f2a37}

